!function(a,b,c,d){var e=c("html"),f=c(a),g=c(b),h=c.fancybox=function(){h.open.apply(this,arguments)},i=navigator.userAgent.match(/msie/i),j=null,k=b.createTouch!==d,l=function(a){return a&&a.hasOwnProperty&&a instanceof c},m=function(a){return a&&"string"===c.type(a)},n=function(a){return m(a)&&0<a.indexOf("%")},o=function(a,b){var c=parseInt(a,10)||0;return b&&n(a)&&(c*=h.getViewport()[b]/100),Math.ceil(c)},p=function(a,b){return o(a,b)+"px"};c.extend(h,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!k,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(i?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeChange:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){return a&&(c.isPlainObject(b)||(b={}),!1!==h.close(!0))?(c.isArray(a)||(a=l(a)?c(a).get():[a]),c.each(a,function(e,f){var g,i,j,k,n,o={};"object"===c.type(f)&&(f.nodeType&&(f=c(f)),l(f)?(o={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},c.metadata&&c.extend(!0,o,f.metadata())):o=f),g=b.href||o.href||(m(f)?f:null),i=b.title!==d?b.title:o.title||"",k=(j=b.content||o.content)?"html":b.type||o.type,!k&&o.isDom&&(k=f.data("fancybox-type"),k||(k=(k=f.prop("class").match(/fancybox\.(\w+)/))?k[1]:null)),m(g)&&(k||(h.isImage(g)?k="image":h.isSWF(g)?k="swf":"#"===g.charAt(0)?k="inline":m(f)&&(k="html",j=f)),"ajax"===k&&(n=g.split(/\s+/,2),g=n.shift(),n=n.shift())),j||("inline"===k?g?j=c(m(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):o.isDom&&(j=f):"html"===k?j=g:!k&&!g&&o.isDom&&(k="inline",j=f)),c.extend(o,{href:g,type:k,content:j,title:i,selector:n}),a[e]=o}),h.opts=c.extend(!0,{},h.defaults,b),b.keys!==d&&(h.opts.keys=b.keys?c.extend({},h.defaults.keys,b.keys):!1),h.group=a,h._start(h.opts.index)):void 0},cancel:function(){var a=h.coming;a&&!1!==h.trigger("onCancel")&&(h.hideLoading(),h.ajaxLoad&&h.ajaxLoad.abort(),h.ajaxLoad=null,h.imgPreload&&(h.imgPreload.onload=h.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),h.coming=null,h.current||h._afterZoomOut(a))},close:function(a){h.cancel(),!1!==h.trigger("beforeClose")&&(h.unbindEvents(),h.isActive&&(h.isOpen&&!0!==a?(h.isOpen=h.isOpened=!1,h.isClosing=!0,c(".fancybox-item, .fancybox-nav").remove(),h.wrap.stop(!0,!0).removeClass("fancybox-opened"),h.transitions[h.current.closeMethod]()):(c(".fancybox-wrap").stop(!0).trigger("onReset").remove(),h._afterZoomOut())))},play:function(a){var b=function(){clearTimeout(h.player.timer)},c=function(){b(),h.current&&h.player.isActive&&(h.player.timer=setTimeout(h.next,h.current.playSpeed))},d=function(){b(),g.unbind(".player"),h.player.isActive=!1,h.trigger("onPlayEnd")};!0===a||!h.player.isActive&&!1!==a?h.current&&(h.current.loop||h.current.index<h.group.length-1)&&(h.player.isActive=!0,g.bind({"onCancel.player beforeClose.player":d,"onUpdate.player":c,"beforeLoad.player":b}),c(),h.trigger("onPlayStart")):d()},next:function(a){var b=h.current;b&&(m(a)||(a=b.direction.next),h.jumpto(b.index+1,a,"next"))},prev:function(a){var b=h.current;b&&(m(a)||(a=b.direction.prev),h.jumpto(b.index-1,a,"prev"))},jumpto:function(a,b,c){var e=h.current;e&&(a=o(a),h.direction=b||e.direction[a>=e.index?"next":"prev"],h.router=c||"jumpto",e.loop&&(0>a&&(a=e.group.length+a%e.group.length),a%=e.group.length),e.group[a]!==d&&(h.cancel(),h._start(a)))},reposition:function(a,b){var d,e=h.current,f=e?e.wrap:null;f&&(d=h._getPosition(b),a&&"scroll"===a.type?(delete d.position,f.stop(!0,!0).animate(d,200)):(f.css(d),e.pos=c.extend({},e.dim,d)))},update:function(a){var b=a&&a.type,c=!b||"orientationchange"===b;c&&(clearTimeout(j),j=null),h.isOpen&&!j&&(j=setTimeout(function(){var d=h.current;d&&!h.isClosing&&(h.wrap.removeClass("fancybox-tmp"),(c||"load"===b||"resize"===b&&d.autoResize)&&h._setDimension(),"scroll"===b&&d.canShrink||h.reposition(a),h.trigger("onUpdate"),j=null)},c&&!k?0:300))},toggle:function(a){h.isOpen&&(h.current.fitToView="boolean"===c.type(a)?a:!h.current.fitToView,k&&(h.wrap.removeAttr("style").addClass("fancybox-tmp"),h.trigger("onUpdate")),h.update())},hideLoading:function(){g.unbind(".loading"),c("#fancybox-loading").remove()},showLoading:function(){var a,b;h.hideLoading(),a=c('<div id="fancybox-loading"><div></div></div>').click(h.cancel).appendTo("body"),g.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(a.preventDefault(),h.cancel())}),h.defaults.fixed||(b=h.getViewport(),a.css({position:"absolute",top:.5*b.h+b.y,left:.5*b.w+b.x}))},getViewport:function(){var b=h.current&&h.current.locked||!1,c={x:f.scrollLeft(),y:f.scrollTop()};return b?(c.w=b[0].clientWidth,c.h=b[0].clientHeight):(c.w=k&&a.innerWidth?a.innerWidth:f.width(),c.h=k&&a.innerHeight?a.innerHeight:f.height()),c},unbindEvents:function(){h.wrap&&l(h.wrap)&&h.wrap.unbind(".fb"),g.unbind(".fb"),f.unbind(".fb")},bindEvents:function(){var a,b=h.current;b&&(f.bind("orientationchange.fb"+(k?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),h.update),(a=b.keys)&&g.bind("keydown.fb",function(e){var f=e.which||e.keyCode,g=e.target||e.srcElement;return 27===f&&h.coming?!1:(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||g&&(g.type||c(g).is("[contenteditable]"))||!c.each(a,function(a,g){return 1<b.group.length&&g[f]!==d?(h[a](g[f]),e.preventDefault(),!1):-1<c.inArray(f,g)?(h[a](),e.preventDefault(),!1):void 0})),void 0)}),c.fn.mousewheel&&b.mouseWheel&&h.wrap.bind("mousewheel.fb",function(a,d,e,f){for(var g=c(a.target||null),i=!1;g.length&&!i&&!g.is(".fancybox-skin")&&!g.is(".fancybox-wrap");)i=g[0]&&!(g[0].style.overflow&&"hidden"===g[0].style.overflow)&&(g[0].clientWidth&&g[0].scrollWidth>g[0].clientWidth||g[0].clientHeight&&g[0].scrollHeight>g[0].clientHeight),g=c(g).parent();0!==d&&!i&&1<h.group.length&&!b.canShrink&&(f>0||e>0?h.prev(f>0?"down":"left"):(0>f||0>e)&&h.next(0>f?"up":"right"),a.preventDefault())}))},trigger:function(a,b){var d,e=b||h.coming||h.current;if(e){if(c.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1))),!1===d)return!1;e.helpers&&c.each(e.helpers,function(b,d){d&&h.helpers[b]&&c.isFunction(h.helpers[b][a])&&h.helpers[b][a](c.extend(!0,{},h.helpers[b].defaults,d),e)}),g.trigger(a)}},isImage:function(a){return m(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return m(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b,d,e={};if(a=o(a),b=h.group[a]||null,!b)return!1;if(e=c.extend(!0,{},h.opts,b),b=e.margin,d=e.padding,"number"===c.type(b)&&(e.margin=[b,b,b,b]),"number"===c.type(d)&&(e.padding=[d,d,d,d]),e.modal&&c.extend(!0,e,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),e.autoSize&&(e.autoWidth=e.autoHeight=!0),"auto"===e.width&&(e.autoWidth=!0),"auto"===e.height&&(e.autoHeight=!0),e.group=h.group,e.index=a,h.coming=e,!1===h.trigger("beforeLoad"))h.coming=null;else{if(d=e.type,b=e.href,!d)return h.coming=null,h.current&&h.router&&"jumpto"!==h.router?(h.current.index=a,h[h.router](h.direction)):!1;if(h.isActive=!0,("image"===d||"swf"===d)&&(e.autoHeight=e.autoWidth=!1,e.scrolling="visible"),"image"===d&&(e.aspectRatio=!0),"iframe"===d&&k&&(e.scrolling="scroll"),e.wrap=c(e.tpl.wrap).addClass("fancybox-"+(k?"mobile":"desktop")+" fancybox-type-"+d+" fancybox-tmp "+e.wrapCSS).appendTo(e.parent||"body"),c.extend(e,{skin:c(".fancybox-skin",e.wrap),outer:c(".fancybox-outer",e.wrap),inner:c(".fancybox-inner",e.wrap)}),c.each(["Top","Right","Bottom","Left"],function(a,b){e.skin.css("padding"+b,p(e.padding[a]))}),h.trigger("onReady"),"inline"===d||"html"===d){if(!e.content||!e.content.length)return h._error("content")}else if(!b)return h._error("href");"image"===d?h._loadImage():"ajax"===d?h._loadAjax():"iframe"===d?h._loadIframe():h._afterLoad()}},_error:function(a){c.extend(h.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:h.coming.tpl.error}),h._afterLoad()},_loadImage:function(){var a=h.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null,h.coming.width=this.width/h.opts.pixelRatio,h.coming.height=this.height/h.opts.pixelRatio,h._afterLoad()},a.onerror=function(){this.onload=this.onerror=null,h._error("image")},a.src=h.coming.href,!0!==a.complete&&h.showLoading()},_loadAjax:function(){var a=h.coming;h.showLoading(),h.ajaxLoad=c.ajax(c.extend({},a.ajax,{url:a.href,error:function(a,b){h.coming&&"abort"!==b?h._error("ajax",a):h.hideLoading()},success:function(b,c){"success"===c&&(a.content=b,h._afterLoad())}}))},_loadIframe:function(){var a=h.coming,b=c(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",k?"auto":a.iframe.scrolling).attr("src",a.href);c(a.wrap).bind("onReset",function(){try{c(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}}),a.iframe.preload&&(h.showLoading(),b.one("load",function(){c(this).data("ready",1),k||c(this).bind("load.fb",h.update),c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),h._afterLoad()})),a.content=b.appendTo(a.inner),a.iframe.preload||h._afterLoad()},_preloadImages:function(){var a,b,c=h.group,d=h.current,e=c.length,f=d.preload?Math.min(d.preload,e-1):0;for(b=1;f>=b;b+=1)a=c[(d.index+b)%e],"image"===a.type&&a.href&&((new Image).src=a.href)},_afterLoad:function(){var a,b,d,e,f,g=h.coming,i=h.current;if(h.hideLoading(),g&&!1!==h.isActive)if(!1===h.trigger("afterLoad",g,i))g.wrap.stop(!0).trigger("onReset").remove(),h.coming=null;else{switch(i&&(h.trigger("beforeChange",i),i.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),h.unbindEvents(),a=g.content,b=g.type,d=g.scrolling,c.extend(h,{wrap:g.wrap,skin:g.skin,outer:g.outer,inner:g.inner,current:g,previous:i}),e=g.href,b){case"inline":case"ajax":case"html":g.selector?a=c("<div>").html(a).find(g.selector):l(a)&&(a.data("fancybox-placeholder")||a.data("fancybox-placeholder",c('<div class="fancybox-placeholder"></div>').insertAfter(a).hide()),a=a.show().detach(),g.wrap.bind("onReset",function(){c(this).find(a).length&&a.hide().replaceAll(a.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":a=g.tpl.image.replace("{href}",e);break;case"swf":a='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+e+'"></param>',f="",c.each(g.swf,function(b,c){a+='<param name="'+b+'" value="'+c+'"></param>',f+=" "+b+'="'+c+'"'}),a+='<embed src="'+e+'" type="application/x-shockwave-flash" width="100%" height="100%"'+f+"></embed></object>"}(!l(a)||!a.parent().is(g.inner))&&g.inner.append(a),h.trigger("beforeShow"),g.inner.css("overflow","yes"===d?"scroll":"no"===d?"hidden":d),h._setDimension(),h.reposition(),h.isOpen=!1,h.coming=null,h.bindEvents(),h.isOpened?i.prevMethod&&h.transitions[i.prevMethod]():c(".fancybox-wrap").not(g.wrap).stop(!0).trigger("onReset").remove(),h.transitions[h.isOpened?g.nextMethod:g.openMethod](),h._preloadImages()}},_setDimension:function(){var a,b,d,e,f,g,i,j,k,l=h.getViewport(),m=0,q=!1,r=!1,q=h.wrap,s=h.skin,t=h.inner,u=h.current,r=u.width,v=u.height,w=u.minWidth,x=u.minHeight,y=u.maxWidth,z=u.maxHeight,A=u.scrolling,B=u.scrollOutside?u.scrollbarWidth:0,C=u.margin,D=o(C[1]+C[3]),E=o(C[0]+C[2]);if(q.add(s).add(t).width("auto").height("auto").removeClass("fancybox-tmp"),C=o(s.outerWidth(!0)-s.width()),a=o(s.outerHeight(!0)-s.height()),b=D+C,d=E+a,e=n(r)?(l.w-b)*o(r)/100:r,f=n(v)?(l.h-d)*o(v)/100:v,"iframe"===u.type){if(k=u.content,u.autoHeight&&1===k.data("ready"))try{k[0].contentWindow.document.location&&(t.width(e).height(9999),g=k.contents().find("body"),B&&g.css("overflow-x","hidden"),f=g.outerHeight(!0))}catch(F){}}else(u.autoWidth||u.autoHeight)&&(t.addClass("fancybox-tmp"),u.autoWidth||t.width(e),u.autoHeight||t.height(f),u.autoWidth&&(e=t.width()),u.autoHeight&&(f=t.height()),t.removeClass("fancybox-tmp"));if(r=o(e),v=o(f),j=e/f,w=o(n(w)?o(w,"w")-b:w),y=o(n(y)?o(y,"w")-b:y),x=o(n(x)?o(x,"h")-d:x),z=o(n(z)?o(z,"h")-d:z),g=y,i=z,u.fitToView&&(y=Math.min(l.w-b,y),z=Math.min(l.h-d,z)),b=l.w-D,E=l.h-E,u.aspectRatio?(r>y&&(r=y,v=o(r/j)),v>z&&(v=z,r=o(v*j)),w>r&&(r=w,v=o(r/j)),x>v&&(v=x,r=o(v*j))):(r=Math.max(w,Math.min(r,y)),u.autoHeight&&"iframe"!==u.type&&(t.width(r),v=t.height()),v=Math.max(x,Math.min(v,z))),u.fitToView)if(t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height(),u.aspectRatio)for(;(l>b||D>E)&&r>w&&v>x&&!(19<m++);)v=Math.max(x,Math.min(z,v-10)),r=o(v*j),w>r&&(r=w,v=o(r/j)),r>y&&(r=y,v=o(r/j)),t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height();else r=Math.max(w,Math.min(r,r-(l-b))),v=Math.max(x,Math.min(v,v-(D-E)));B&&"auto"===A&&f>v&&b>r+C+B&&(r+=B),t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height(),q=(l>b||D>E)&&r>w&&v>x,r=u.aspectRatio?g>r&&i>v&&e>r&&f>v:(g>r||i>v)&&(e>r||f>v),c.extend(u,{dim:{width:p(l),height:p(D)},origWidth:e,origHeight:f,canShrink:q,canExpand:r,wPadding:C,hPadding:a,wrapSpace:D-s.outerHeight(!0),skinSpace:s.height()-v}),!k&&u.autoHeight&&v>x&&z>v&&!r&&t.height("auto")},_getPosition:function(a){var b=h.current,c=h.getViewport(),d=b.margin,e=h.wrap.width()+d[1]+d[3],f=h.wrap.height()+d[0]+d[2],d={position:"absolute",top:d[0],left:d[3]};return b.autoCenter&&b.fixed&&!a&&f<=c.h&&e<=c.w?d.position="fixed":b.locked||(d.top+=c.y,d.left+=c.x),d.top=p(Math.max(d.top,d.top+(c.h-f)*b.topRatio)),d.left=p(Math.max(d.left,d.left+(c.w-e)*b.leftRatio)),d},_afterZoomIn:function(){var a=h.current;a&&(h.isOpen=h.isOpened=!0,h.wrap.css("overflow","visible").addClass("fancybox-opened"),h.update(),(a.closeClick||a.nextClick&&1<h.group.length)&&h.inner.css("cursor","pointer").bind("click.fb",function(b){!c(b.target).is("a")&&!c(b.target).parent().is("a")&&(b.preventDefault(),h[a.closeClick?"close":"next"]())}),a.closeBtn&&c(a.tpl.closeBtn).appendTo(h.skin).bind("click.fb",function(a){a.preventDefault(),h.close()}),a.arrows&&1<h.group.length&&((a.loop||0<a.index)&&c(a.tpl.prev).appendTo(h.outer).bind("click.fb",h.prev),(a.loop||a.index<h.group.length-1)&&c(a.tpl.next).appendTo(h.outer).bind("click.fb",h.next)),h.trigger("afterShow"),a.loop||a.index!==a.group.length-1?h.opts.autoPlay&&!h.player.isActive&&(h.opts.autoPlay=!1,h.play()):h.play(!1))},_afterZoomOut:function(a){a=a||h.current,c(".fancybox-wrap").trigger("onReset").remove(),c.extend(h,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),h.trigger("afterClose",a)}}),h.transitions={getOrigPosition:function(){var a=h.current,b=a.element,c=a.orig,d={},e=50,f=50,g=a.hPadding,i=a.wPadding,j=h.getViewport();return!c&&a.isDom&&b.is(":visible")&&(c=b.find("img:first"),c.length||(c=b)),l(c)?(d=c.offset(),c.is("img")&&(e=c.outerWidth(),f=c.outerHeight())):(d.top=j.y+(j.h-f)*a.topRatio,d.left=j.x+(j.w-e)*a.leftRatio),("fixed"===h.wrap.css("position")||a.locked)&&(d.top-=j.y,d.left-=j.x),d={top:p(d.top-g*a.topRatio),left:p(d.left-i*a.leftRatio),width:p(e+i),height:p(f+g)}},step:function(a,b){var c,d,e=b.prop;d=h.current;var f=d.wrapSpace,g=d.skinSpace;("width"===e||"height"===e)&&(c=b.end===b.start?1:(a-b.start)/(b.end-b.start),h.isClosing&&(c=1-c),d="width"===e?d.wPadding:d.hPadding,d=a-d,h.skin[e](o("width"===e?d:d-f*c)),h.inner[e](o("width"===e?d:d-f*c-g*c)))},zoomIn:function(){var a=h.current,b=a.pos,d=a.openEffect,e="elastic"===d,f=c.extend({opacity:1},b);delete f.position,e?(b=this.getOrigPosition(),a.openOpacity&&(b.opacity=.1)):"fade"===d&&(b.opacity=.1),h.wrap.css(b).animate(f,{duration:"none"===d?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:h._afterZoomIn})},zoomOut:function(){var a=h.current,b=a.closeEffect,c="elastic"===b,d={opacity:.1};c&&(d=this.getOrigPosition(),a.closeOpacity&&(d.opacity=.1)),h.wrap.animate(d,{duration:"none"===b?0:a.closeSpeed,easing:a.closeEasing,step:c?this.step:null,complete:h._afterZoomOut})},changeIn:function(){var a,b=h.current,c=b.nextEffect,d=b.pos,e={opacity:1},f=h.direction;d.opacity=.1,"elastic"===c&&(a="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(d[a]=p(o(d[a])-200),e[a]="+=200px"):(d[a]=p(o(d[a])+200),e[a]="-=200px")),"none"===c?h._afterZoomIn():h.wrap.css(d).animate(e,{duration:b.nextSpeed,easing:b.nextEasing,complete:h._afterZoomIn})},changeOut:function(){var a=h.previous,b=a.prevEffect,d={opacity:.1},e=h.direction;"elastic"===b&&(d["down"===e||"up"===e?"top":"left"]=("up"===e||"left"===e?"-":"+")+"=200px"),a.wrap.animate(d,{duration:"none"===b?0:a.prevSpeed,easing:a.prevEasing,complete:function(){c(this).trigger("onReset").remove()}})}},h.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!k,fixed:!0},overlay:null,fixed:!1,el:c("html"),create:function(a){a=c.extend({},this.defaults,a),this.overlay&&this.close(),this.overlay=c('<div class="fancybox-overlay"></div>').appendTo(h.coming?h.coming.parent:a.parent),this.fixed=!1,a.fixed&&h.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var b=this;a=c.extend({},this.defaults,a),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a),this.fixed||(f.bind("resize.overlay",c.proxy(this.update,this)),this.update()),a.closeClick&&this.overlay.bind("click.overlay",function(a){return c(a.target).hasClass("fancybox-overlay")?(h.isActive?h.close():b.close(),!1):void 0}),this.overlay.css(a.css).show()},close:function(){var a,b;f.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(c(".fancybox-margin").removeClass("fancybox-margin"),a=f.scrollTop(),b=f.scrollLeft(),this.el.removeClass("fancybox-lock"),f.scrollTop(a).scrollLeft(b)),c(".fancybox-overlay").remove().hide(),c.extend(this,{overlay:null,fixed:!1})},update:function(){var a,c="100%";this.overlay.width(c).height("100%"),i?(a=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),g.width()>a&&(c=g.width())):g.width()>f.width()&&(c=g.width()),this.overlay.width(c).height(g.height())},onReady:function(a,b){var d=this.overlay;c(".fancybox-overlay").stop(!0,!0),d||this.create(a),a.locked&&this.fixed&&b.fixed&&(d||(this.margin=g.height()>f.height()?c("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1),!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){var d,e;b.locked&&(!1!==this.margin&&(c("*").filter(function(){return"fixed"===c(this).css("position")&&!c(this).hasClass("fancybox-overlay")&&!c(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),d=f.scrollTop(),e=f.scrollLeft(),this.el.addClass("fancybox-lock"),f.scrollTop(d).scrollLeft(e)),this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!h.coming&&this.overlay.fadeOut(a.speedOut,c.proxy(this.close,this))}},h.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var b=h.current,d=b.title,e=a.type;if(c.isFunction(d)&&(d=d.call(b.element,b)),m(d)&&""!==c.trim(d)){switch(b=c('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+d+"</div>"),e){case"inside":e=h.skin;break;case"outside":e=h.wrap;break;case"over":e=h.inner;break;default:e=h.skin,b.appendTo("body"),i&&b.width(b.width()),b.wrapInner('<span class="child"></span>'),h.current.margin[2]+=Math.abs(o(b.css("margin-bottom")))}b["top"===a.position?"prependTo":"appendTo"](e)}}},c.fn.fancybox=function(a){var b,d=c(this),e=this.selector||"",f=function(f){var g,i,j=c(this).blur(),k=b;!(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey||j.is(".fancybox-wrap")||(g=a.groupAttr||"data-fancybox-group",i=j.attr(g),i||(g="rel",i=j.get(0)[g]),i&&""!==i&&"nofollow"!==i&&(j=e.length?c(e):d,j=j.filter("["+g+'="'+i+'"]'),k=j.index(this)),a.index=k,!1===h.open(j,a)||!f.preventDefault()))};return a=a||{},b=a.index||0,e&&!1!==a.live?g.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",f):d.unbind("click.fb-start").bind("click.fb-start",f),this.filter("[data-fancybox-start=1]").trigger("click"),this},g.ready(function(){var b,f;if(c.scrollbarWidth===d&&(c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();return a.remove(),b}),c.support.fixedPosition===d){b=c.support,f=c('<div style="position:fixed;top:20px;"></div>').appendTo("body");var g=20===f[0].offsetTop||15===f[0].offsetTop;f.remove(),b.fixedPosition=g}c.extend(h.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")}),b=c(a).width(),e.addClass("fancybox-lock-test"),f=c(a).width(),e.removeClass("fancybox-lock-test"),c("<style type='text/css'>.fancybox-margin{margin-right:"+(f-b)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function(a){"function"==typeof define&&define.amd?"undefined"!=typeof jQuery?define(["jquery"],a):define([],a):"undefined"!=typeof jQuery?a(jQuery):a()}(function(a,b){function c(a,b){for(var c=decodeURI(a),d=r[b?"strict":"loose"].exec(c),e={attr:{},param:{},seg:{}},f=14;f--;)e.attr[p[f]]=d[f]||"";return e.param.query=h(e.attr.query),e.param.fragment=h(e.attr.fragment),e.seg.path=e.attr.path.replace(/^\/+|\/+$/g,"").split("/"),e.seg.fragment=e.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),e.attr.base=e.attr.host?(e.attr.protocol?e.attr.protocol+"://"+e.attr.host:e.attr.host)+(e.attr.port?":"+e.attr.port:""):"",e}function d(a){var c=a.tagName;return c!==b?o[c.toLowerCase()]:c}function e(a,b){if(0==a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function f(a,c,d,g){var h=a.shift();if(h){var i=c[d]=c[d]||[];"]"==h?l(i)?""!=g&&i.push(g):"object"==typeof i?i[m(i).length]=g:i=c[d]=[c[d],g]:~h.indexOf("]")?(h=h.substr(0,h.length-1),!s.test(h)&&l(i)&&(i=e(c,d)),f(a,i,h,g)):(!s.test(h)&&l(i)&&(i=e(c,d)),f(a,i,h,g))}else l(c[d])?c[d].push(g):c[d]="object"==typeof c[d]?g:c[d]===b?g:[c[d],g]}function g(a,b,c){if(~b.indexOf("]")){var d=b.split("[");d.length,f(d,a,"base",c)}else{if(!s.test(b)&&l(a.base)){var e={};for(var g in a.base)e[g]=a.base[g];a.base=e}i(a.base,b,c)}return a}function h(a){return k((a+"").split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(c){}var d=b.indexOf("="),e=j(b),f=b.substr(0,e||d),h=b.substr(e||d,b.length),h=h.substr(h.indexOf("=")+1,h.length);return""==f&&(f=b,h=""),g(a,f,h)},{base:{}}).base}function i(a,c,d){var e=a[c];b===e?a[c]=d:l(e)?e.push(d):a[c]=[e,d]}function j(a){for(var b,c,d=a.length,e=0;d>e;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function k(a,c){for(var d=0,e=a.length>>0,f=arguments[2];e>d;)d in a&&(f=c.call(b,f,a[d],d,a)),++d;return f}function l(a){return"[object Array]"===Object.prototype.toString.call(a)}function m(a){var b=[];for(prop in a)a.hasOwnProperty(prop)&&b.push(prop);return b}function n(a,d){return 1===arguments.length&&a===!0&&(d=!0,a=b),d=d||!1,a=a||""+window.location,{data:c(a,d),attr:function(a){return a=q[a]||a,a!==b?this.data.attr[a]:this.data.attr},param:function(a){return a!==b?this.data.param.query[a]:this.data.param.query},fparam:function(a){return a!==b?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){return a===b?this.data.seg.path:(a=0>a?this.data.seg.path.length+a:a-1,this.data.seg.path[a])},fsegment:function(a){return a===b?this.data.seg.fragment:(a=0>a?this.data.seg.fragment.length+a:a-1,this.data.seg.fragment[a])}}}var o={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},p=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],q={anchor:"fragment"},r={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},s=(Object.prototype.toString,/^[0-9]+$/);a!==b?(a.fn.url=function(b){var c="";return this.length&&(c=a(this).attr(d(this[0]))||""),n(c,b)},a.url=n):window.purl=n}),function(a,b,c){"use strict";function d(a,b){b&&b.onError&&b.onError(a)===!1||(this.name="JsRender Error",this.message=a||"JsRender error")}function e(a,b){var c;a=a||{};for(c in b)a[c]=b[c];return a}function f(a,b,c){return(!cb.rTag||arguments.length)&&(F=a?a.charAt(0):F,G=a?a.charAt(1):G,H=b?b.charAt(0):H,I=b?b.charAt(1):I,J=c||J,a="\\"+F+"(\\"+J+")?\\"+G,b="\\"+H+"\\"+I,C="(?:(?:(\\w+(?=[\\/\\s\\"+H+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))"+"\\s*((?:[^\\"+H+"]|\\"+H+"(?!\\"+I+"))*?)",cb.rTag=C+")",C=RegExp(a+C+"(\\/)?|(?:\\/(\\w+)))"+b,"g"),D=RegExp("<.*>|([^\\\\]|^)[{}]|"+a+".*"+b)),[F,G,H,I,J]}function g(a,b){b||(b=a,a=c);var d,e,f,g,h=this,i=!b||"root"===b;if(a){if(g=h.type===b?h:c,!g)if(d=h.views,h._.useKey){for(e in d)if(g=d[e].get(a,b))break}else for(e=0,f=d.length;!g&&f>e;e++)g=d[e].get(a,b)}else if(i)for(;h.parent.parent;)g=h=h.parent;else for(;h&&!g;)g=h.type===b?h:c,h=h.parent;return g}function h(){var a=this.get("item");return a?a.index:c}function i(a){var b,d=this,f=(d.ctx||{})[a];return f=f===c?d.getRsc("helpers",a):f,f&&"function"==typeof f&&(b=function(){return f.apply(d,arguments)},e(b,f)),b||f}function j(a,b,d){var e,f,g,h=+d===d&&d,i=b.linkCtx;return h&&(d=(h=b.tmpl.bnds[h-1])(b.data,b,$)),g=d.args[0],(a||h)&&(f=i&&i.tag||{_:{inline:!i},tagName:a+":",flow:!0,_is:"tag"},f._.bnd=h,i&&(i.tag=f,f.linkCtx=i,d.ctx=y(d.ctx,i.view.ctx)),f.tagCtx=d,d.view=b,f.ctx=d.ctx||{},delete d.ctx,b._.tag=f,a="true"!==a&&a,a&&((e=b.getRsc("converters",a))||t("Unknown converter: {{"+a+":"))&&(f.depends=e.depends,g=e.apply(f,d.args)),g=h&&b._.onRender?b._.onRender(g,b,h):g,b._.tag=c),g}function k(a,b){var d,e=this,f=$[a];for(d=f&&f[b];d===c&&e;)f=e.tmpl[a],d=f&&f[b],e=e.parent;return d}function l(a,b,d,f){var g,h,i,j,k,l,m,n,o,p,q,r,u,v,w="",x=+f===f&&f,z=b.linkCtx||0,A=b.ctx,B=d||b.tmpl,C=b._;for("tag"===a._is&&(h=a,a=h.tagName),x&&(f=(r=B.bnds[x-1])(b.data,b,$)),m=f.length,h=h||z.tag,l=0;m>l;l++)o=f[l],q=o.tmpl,q=o.content=q&&B.tmpls[q-1],d=o.props.tmpl,l||d&&h||(u=b.getRsc("tags",a)||t("Unknown tag: {{"+a+"}}")),d=d||(h?h._def:u).template||q,d=""+d===d?b.getRsc("templates",d)||_(d):d,e(o,{tmpl:d,render:s,index:l,view:b,ctx:y(o.ctx,A)}),h||(u._ctr?(h=new u._ctr,v=!!h.init,h.attr=h.attr||u.attr||c):h={render:u.render},h._={inline:!z},z&&(z.attr=h.attr=z.attr||h.attr,z.tag=h,h.linkCtx=z),(h._.bnd=r||z)&&(h._.arrVws={}),h.tagName=a,h.parent=k=A&&A.tag,h._is="tag",h._def=u),C.tag=h,o.tag=h,h.tagCtxs=f,h.flow||(p=o.ctx=o.ctx||{},i=h.parents=p.parentTags=A&&y(p.parentTags,A.parentTags)||{},k&&(i[k.tagName]=k),p.tag=h);for(h.rendering={},l=0;m>l;l++)o=h.tagCtx=f[l],h.ctx=o.ctx,!l&&v&&(h.init(o,z,h.ctx),v=c),(g=h.render)&&(n=g.apply(h,o.args)),w+=n!==c?n:o.tmpl?o.render():"";return delete h.rendering,h.tagCtx=h.tagCtxs[0],h.ctx=h.tagCtx.ctx,h._.inline&&(j=h.attr)&&"html"!==j&&(w="text"===j?ab.html(w):""),w=x&&b._.onRender?b._.onRender(w,b,x):w}function m(a,b,d,e,f,j,l,m){var n,o,p,q="array"===b,r={key:0,useKey:q?0:1,id:""+V++,onRender:m,bnds:{}},s={data:e,tmpl:f,content:l,views:q?[]:{},parent:d,ctx:a,type:b,get:g,getIndex:h,getRsc:k,hlp:i,_:r,_is:"view"};return d&&(n=d.views,o=d._,o.useKey?(n[r.key="_"+o.useKey++]=s,p=o.tag,r.bnd=q&&(!p||!!p._.bnd&&p)):n.splice(r.key=s.index=j!==c?j:n.length,0,s),s.ctx=a||d.ctx),s}function n(a){var b,c,d,e,f;for(b in Z)if(e=Z[b],(f=e.compile)&&(c=a[b+"s"]))for(d in c)c[d]=f(d,c[d],a,b,e)}function o(a,b,c){var d,e;return"function"==typeof b?b={depends:b.depends,render:b}:((e=b.template)&&(b.template=""+e===e?_[e]||_(e):e),b.init!==!1&&(d=b._ctr=function(){},(d.prototype=b).constructor=d)),c&&(b._parentTmpl=c),b}function p(d,e,f,g,h,i){function j(c){if(""+c===c||c.nodeType>0){try{l=c.nodeType>0?c:!D.test(c)&&b&&b(a.document).find(c)[0]}catch(e){}return l&&(c=l.getAttribute(X),d=d||c,c=_[c],c||(d=d||"_"+U++,l.setAttribute(X,d),c=_[d]=p(d,l.innerHTML,f,g,h,i))),c}}var k,l;return e=e||"",k=j(e),i=i||(e.markup?e:{}),i.tmplName=d,f&&(i._parentTmpl=f),!k&&e.markup&&(k=j(e.markup))&&(!k.fn||k.debug===e.debug&&k.allowCode===e.allowCode||(k=k.markup)),k!==c?(d&&!f&&(Y[d]=function(){return e.render.apply(e,arguments)}),k.fn||e.fn?k.fn&&(e=d&&d!==k.tmplName?y(i,k):k):(e=q(k,i),v(k,e)),n(i),e):c}function q(a,b){var c,d=db.wrapMap||{},f=e({markup:a,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:s},b);return b.htmlTag||(c=R.exec(a),f.htmlTag=c?c[1].toLowerCase():""),c=d[f.htmlTag],c&&c!==d.div&&(f.markup=A.trim(f.markup),f._elCnt=!0),f}function r(a,b){function d(f,g,h){var i,j,k,l;if(f&&""+f!==f&&!f.nodeType&&!f.markup){for(k in f)d(k,f[k],g);return $}return g===c&&(g=f,f=c),f&&""+f!==f&&(h=g,g=f,f=c),l=h?h[e]=h[e]||{}:d,j=b.compile,(i=cb.onBeforeStoreItem)&&(j=i(l,f,g,j)||j),f?null===g?delete l[f]:l[f]=j?g=j(f,g,h,a,b):g:g=j(c,g),g&&(g._is=a),(i=cb.onStoreItem)&&i(l,f,g,j),g}var e=a+"s";$[e]=d,Z[a]=b}function s(a,b,d,e,f,g){var h,i,j,k,l,n,o,p,q,r,s,u,v,w=this,x=!w.attr||"html"===w.attr,z="";if(e===!0&&(o=!0,e=0),w.tag?(p=w,w=w.tag,r=w._,u=w.tagName,v=p.tmpl,b=y(b,w.ctx),q=p.content,p.props.link===!1&&(b=b||{},b.link=!1),d=d||p.view,a=a===c?d:a):v=w.jquery&&(w[0]||t('Unknown template: "'+w.selector+'"'))||w,v&&(!d&&a&&"view"===a._is&&(d=a),d&&(q=q||d.content,g=g||d._.onRender,a===d&&(a=d.data,f=!0),b=y(b,d.ctx)),d&&d.data!==c||((b=b||{}).root=a),v.fn||(v=_[v]||_(v)),v)){if(g=(b&&b.link)!==!1&&x&&g,s=g,g===!0&&(s=c,g=d._.onRender),A.isArray(a)&&!f)for(k=o?d:e!==c&&d||m(b,"array",d,a,v,e,q,g),h=0,i=a.length;i>h;h++)j=a[h],l=m(b,"item",k,j,v,(e||0)+h,q,g),n=v.fn(j,l,$),z+=k._.onRender?k._.onRender(n,l):n;else k=o?d:m(b,u||"data",d,a,v,e,q,g),r&&!w.flow&&(k.tag=w),z+=v.fn(a,k,$);return s?s(z,k):z}return""}function t(a){throw new $.sub.Error(a)
}function u(a){t("Syntax error\n"+a)}function v(a,b,d,e){function f(b){b-=l,b&&n.push(a.substr(l,b).replace(M,"\\n"))}function g(b){b&&u('Unmatched or missing tag: "{{/'+b+'}}" in template:\n'+a)}function h(c,h,k,p,q,r,s,t,v,w,y,z){r&&(q=":",p="html"),w=w||d;var A,B,C=h&&[],D="",E="",F="",G=!w&&!q&&!s;k=k||q,f(z),l=z+c.length,t?j&&n.push(["*","\n"+v.replace(N,"$1")+"\n"]):k?("else"===k&&(Q.test(v)&&u('for "{{else if expr}}" use "{{else expr}}"'),C=o[6],o[7]=a.substring(o[7],z),o=m.pop(),n=o[3],G=!0),v&&(v=v.replace(M," "),D=x(v,C,b).replace(P,function(a,b,c){return b?F+=c+",":E+=c+",",""})),E=E.slice(0,-1),D=D.slice(0,-1),A=E&&E.indexOf("noerror:true")+1&&E||"",i=[k,p||!!e||"",D,G&&[],'params:"'+v+'",props:{'+E+"}"+(F?",ctx:{"+F.slice(0,-1)+"}":""),A,C||0],n.push(i),G&&(m.push(o),o=i,o[7]=l)):y&&(B=o[0],g(y!==B&&"else"!==B&&y),o[7]=a.substring(o[7],z),o=m.pop()),g(!o&&y),n=o[3]}var i,j=b&&b.allowCode,k=[],l=0,m=[],n=k,o=[c,c,c,k];return a=a.replace(O,"\\$&"),g(m[0]&&m[0][3].pop()[0]),a.replace(C,h),f(a.length),(l=k[k.length-1])&&g(""+l!==l&&+l[7]===l[7]&&l[0]),w(k,d?a:b,d)}function w(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,v,x,y,z,A,B,C,D,E,F,G,H,I=0,J="",K="",L={},N=a.length;for(""+c===c?(v=d?'data-link="'+c.replace(M," ").slice(1,-1)+'"':c,c=0):(v=c.tmplName||"unnamed",(z=c.allowCode)&&(L.allowCode=!0),c.debug&&(L.debug=!0),p=c.bnds,t=c.tmpls),e=0;N>e;e++)if(f=a[e],""+f===f)J+='\nret+="'+f+'";';else if(g=f[0],"*"===g)J+=""+f[1];else{if(h=f[1],i=f[2],A=f[3],j=f[4],K=f[5],B=f[7],(E="else"===g)||(I=0,p&&(r=f[6])&&(I=p.push(r))),(F=":"===g)?(h&&(g="html"===h?">":h+g),K&&(G="prm"+e,K="try{var "+G+"=["+i+"][0];}catch(e){"+G+'="";}\n',i=G)):(A&&(x=q(B,L),x.tmplName=v+"/"+g,w(A,x),t.push(x)),E||(y=g,D=J,J="",s=e),C=a[e+1],C=C&&"else"===C[0]),j+=",args:["+i+"]}",F&&r||h&&">"!==g){if(H=Function("data,view,j,u"," // "+v+" "+I+" "+g+"\n"+K+"return {"+j+";"),H.paths=r,H._ctxs=g,d)return H;o=1}if(J+=F?"\n"+(r?"":K)+(d?"return ":"ret+=")+(o?(o=0,n=!0,'c("'+h+'",view,'+(r?(p[I-1]=H,I):"{"+j)+");"):">"===g?(l=!0,"h("+i+");"):(m=!0,"(v="+i+")!="+(d?"=":"")+'u?v:"";')):(k=!0,"{tmpl:"+(A?t.length:"0")+","+j+","),y&&!C){if(J="["+J.slice(0,-1)+"]",(d||r)&&(J=Function("data,view,j,u"," // "+v+" "+I+" "+y+"\nreturn "+J+";"),r&&((p[I-1]=J).paths=r),J._ctxs=g,d))return J;J=D+'\nret+=t("'+y+'",view,this,'+(I||J)+");",r=0,y=0}}J="// "+v+"\nvar j=j||"+(b?"jQuery.":"js")+"views"+(m?",v":"")+(k?",t=j._tag":"")+(n?",c=j._cnvt":"")+(l?",h=j.converters.html":"")+(d?";\n":',ret="";\n')+(db.tryCatch?"try{\n":"")+(L.debug?"debugger;":"")+J+(d?"\n":"\nreturn ret;\n")+(db.tryCatch?"\n}catch(e){return j._err(e);}":"");try{J=Function("data,view,j,u",J)}catch(O){u("Compiled template code:\n\n"+J,O)}return c&&(c.fn=J),J}function x(a,b,d){function e(e,n,o,p,q,r,s,t,w,y,z,A,B,C,D,E,J,L,M){function N(a,c,d,e,f,h,i){if(c&&(b&&!g&&b.push(p),"."!==c)){var j=(d?'view.hlp("'+d+'")':e?"view":"data")+(i?(f?"."+f:d?"":e?"":"."+c)+(h||""):(i=d?"":e?f||"":c,""));return j+=i?"."+i:"","view.data"===j.slice(0,9)?j.slice(5):j}return a}var O;return q=q||"",o=o||n||z,p=p||t,w=w||E||"",r?(u(a),c):(b&&D&&(O=j[k],M.length-2>L-O&&(O=M.slice(O,L+1),D=G+":"+O+H,D=h[D]=h[D]||v(F+D+I,d,!0),D.paths||x(O,D.paths=[],d),b.push({_jsvOb:D}))),m?(m=!A,m?e:'"'):l?(l=!B,l?e:'"'):(o?(k++,j[k]=L++,o):"")+(J?k?"":f?(f=g=!1,"\b"):",":s?(k&&u(a),f=p,g="~"===p.charAt(0),"\b"+p+":"):p?p.split("^").join(".").replace(K,N)+(w?(i[++k]=!0,"."!==p.charAt(0)&&(j[k]=L),w):q):q?q:C?(i[k--]=!1,C+(w?(i[++k]=!0,w):"")):y?(i[k]||u(a),","):n?"":(m=A,l=B,'"')))}var f,g,h=d.links,i={},j={0:-1},k=0,l=!1,m=!1;return(a+" ").replace(L,e)}function y(a,b){return a&&a!==b?b?e(e({},b),a):a:b&&e({},b)}function z(a){return W[a]||(W[a]="&#"+a.charCodeAt(0)+";")}if(!(b&&b.views||a.jsviews)){var A,B,C,D,E="v1.0pre",F="{",G="{",H="}",I="}",J="^",K=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,L=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^)|[)\]])([([]?))|(\s+)/g,M=/\s*\n/g,N=/\\(['"])/g,O=/['"\\]/g,P=/\x08(~)?([^\x08]+)\x08/g,Q=/^if\s/,R=/<(\w+)[>\s]/,S=/[\x00`><"'&]/g,T=S,U=0,V=0,W={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},X="data-jsv-tmpl",Y=([].slice,{}),Z={template:{compile:p},tag:{compile:o},helper:{},converter:{}},$={jsviews:E,render:Y,settings:{delimiters:f,debugMode:!0,tryCatch:!0},sub:{View:m,Error:d,tmplFn:v,parse:x,extend:e,error:t,syntaxError:u},_cnvt:j,_tag:l,_err:function(a){return db.debugMode?"Error: "+(a.message||a)+". ":""}};(d.prototype=Error()).constructor=d,h.depends=function(){return[this.get("item"),"index"]};for(B in Z)r(B,Z[B]);var _=$.templates,ab=$.converters,bb=($.helpers,$.tags),cb=$.sub,db=$.settings;b?(A=b,A.fn.render=s):(A=a.jsviews={},A.isArray=Array&&Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}),A.render=Y,A.views=$,A.templates=_=$.templates,bb({"else":function(){},"if":{render:function(a){var b=this,c=b.rendering.done||!a&&(arguments.length||!b.tagCtx.index)?"":(b.rendering.done=!0,b.selected=b.tagCtx.index,b.tagCtx.render());return c},onUpdate:function(a,b,c){var d,e,f;for(d=0;(e=this.tagCtxs[d])&&e.args.length;d++)if(e=e.args[0],f=!e!=!c[d].args[0],e||f)return f;return!1},flow:!0},"for":{render:function(a){var b=this,d=b.tagCtx,e=!arguments.length,f="",g=e||0;return b.rendering.done||(e?f=c:a!==c&&(f+=d.render(a),g+=A.isArray(a)?a.length:1),(b.rendering.done=g)&&(b.selected=d.index)),f},onUpdate:function(){},onArrayChange:function(a,b){var c,d=this,e=b.change;if(this.tagCtxs[1]&&("insert"===e&&a.target.length===b.items.length||"remove"===e&&!a.target.length||"refresh"===e&&!b.oldItems.length!=!a.target.length))this.refresh();else for(c in d._.arrVws)c=d._.arrVws[c],c.data===a.target&&c._.onArrayChange.apply(c,arguments);a.done=!0},flow:!0},include:{flow:!0},"*":{render:function(a){return a},flow:!0}}),ab({html:function(a){return a!=c?(a+"").replace(T,z):""},attr:function(a){return a!=c?(a+"").replace(S,z):null===a?null:""},url:function(a){return a!=c?encodeURI(a+""):null===a?null:""}}),f()}}(this,this.jQuery),function(a){a.easytabs=function(b,c){var g,h,i,j,k,m,d=this,e=a(b),f={animate:!0,panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",animationSpeed:"normal",tabs:"> ul > li",updateHash:!0,cycle:!1,collapsible:!1,collapsedClass:"collapsed",collapsedByDefault:!0,uiTabs:!1,transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInEasing:"swing",transitionOutEasing:"swing",transitionCollapse:"slideUp",transitionUncollapse:"slideDown",transitionCollapseEasing:"swing",transitionUncollapseEasing:"swing",containerClass:"",tabsClass:"",tabClass:"",panelClass:"",cache:!0,event:"click",panelContext:e},l={fast:200,normal:400,slow:600};d.init=function(){d.settings=m=a.extend({},f,c),m.bind_str=m.event+".easytabs",m.uiTabs&&(m.tabActiveClass="ui-tabs-selected",m.containerClass="ui-tabs ui-widget ui-widget-content ui-corner-all",m.tabsClass="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all",m.tabClass="ui-state-default ui-corner-top",m.panelClass="ui-tabs-panel ui-widget-content ui-corner-bottom"),m.collapsible&&void 0!==c.defaultTab&&void 0===c.collpasedByDefault&&(m.collapsedByDefault=!1),"string"==typeof m.animationSpeed&&(m.animationSpeed=l[m.animationSpeed]),a("a.anchor").remove().prependTo("body"),e.data("easytabs",{}),d.setTransitions(),d.getTabs(),o(),p(),r(),v(),w(),e.attr("data-easytabs",!0)},d.setTransitions=function(){i=m.animate?{show:m.transitionIn,hide:m.transitionOut,speed:m.animationSpeed,collapse:m.transitionCollapse,uncollapse:m.transitionUncollapse,halfSpeed:m.animationSpeed/2}:{show:"show",hide:"hide",speed:0,collapse:"hide",uncollapse:"show",halfSpeed:0}},d.getTabs=function(){var b;d.tabs=e.find(m.tabs),d.panels=a(),d.tabs.each(function(){var c=a(this),e=c.children("a"),f=c.children("a").data("target");c.data("easytabs",{}),void 0!==f&&null!==f?c.data("easytabs").ajax=e.attr("href"):f=e.attr("href"),f=f.match(/#([^\?]+)/)[1],b=m.panelContext.find("#"+f),b.length?(b.data("easytabs",{position:b.css("position"),visibility:b.css("visibility")}),b.not(m.panelActiveClass).hide(),d.panels=d.panels.add(b),c.data("easytabs").panel=b):(d.tabs=d.tabs.not(c),"console"in window&&console.warn("Warning: tab without matching panel for selector '#"+f+"' removed from set"))})},d.selectTab=function(a,b){var c=window.location,f=(c.hash.match(/^[^\?]*/)[0],a.parent().data("easytabs").panel),g=a.parent().data("easytabs").ajax;m.collapsible&&!k&&(a.hasClass(m.tabActiveClass)||a.hasClass(m.collapsedClass))?d.toggleTabCollapse(a,f,g,b):a.hasClass(m.tabActiveClass)&&f.hasClass(m.panelActiveClass)?m.cache||s(a,f,g,b):s(a,f,g,b)},d.toggleTabCollapse=function(a,b,c,f){d.panels.stop(!0,!0),n(e,"easytabs:before",[a,b,m])&&(d.tabs.filter("."+m.tabActiveClass).removeClass(m.tabActiveClass).children().removeClass(m.tabActiveClass),a.hasClass(m.collapsedClass)?(!c||m.cache&&a.parent().data("easytabs").cached||(e.trigger("easytabs:ajax:beforeSend",[a,b]),b.load(c,function(c,d,f){a.parent().data("easytabs").cached=!0,e.trigger("easytabs:ajax:complete",[a,b,c,d,f])})),a.parent().removeClass(m.collapsedClass).addClass(m.tabActiveClass).children().removeClass(m.collapsedClass).addClass(m.tabActiveClass),b.addClass(m.panelActiveClass)[i.uncollapse](i.speed,m.transitionUncollapseEasing,function(){e.trigger("easytabs:midTransition",[a,b,m]),"function"==typeof f&&f()})):(a.addClass(m.collapsedClass).parent().addClass(m.collapsedClass),b.removeClass(m.panelActiveClass)[i.collapse](i.speed,m.transitionCollapseEasing,function(){e.trigger("easytabs:midTransition",[a,b,m]),"function"==typeof f&&f()})))},d.matchTab=function(a){return d.tabs.find("[href='"+a+"'],[data-target='"+a+"']").first()},d.matchInPanel=function(a){return a&&d.validId(a)?d.panels.filter(":has("+a+")").first():[]},d.validId=function(a){return a.substr(1).match(/^[A-Za-z]+[A-Za-z0-9\-_:\.].$/)},d.selectTabFromHashChange=function(){var c,a=window.location.hash.match(/^[^\?]*/)[0],b=d.matchTab(a);m.updateHash&&(b.length?(k=!0,d.selectTab(b)):(c=d.matchInPanel(a),c.length?(a="#"+c.attr("id"),b=d.matchTab(a),k=!0,d.selectTab(b)):g.hasClass(m.tabActiveClass)||m.cycle||(""===a||d.matchTab(j).length||e.closest(a).length)&&(k=!0,d.selectTab(h))))},d.cycleTabs=function(b){m.cycle&&(b%=d.tabs.length,$tab=a(d.tabs[b]).children("a").first(),k=!0,d.selectTab($tab,function(){setTimeout(function(){d.cycleTabs(b+1)},m.cycle)}))},d.publicMethods={select:function(b){var c;0===(c=d.tabs.filter(b)).length?0===(c=d.tabs.find("a[href='"+b+"']")).length&&0===(c=d.tabs.find("a"+b)).length&&0===(c=d.tabs.find("[data-target='"+b+"']")).length&&0===(c=d.tabs.find("a[href$='"+b+"']")).length&&a.error("Tab '"+b+"' does not exist in tab set"):c=c.children("a").first(),d.selectTab(c)}};var n=function(b,c,d){var e=a.Event(c);return b.trigger(e,d),e.result!==!1},o=function(){e.addClass(m.containerClass),d.tabs.parent().addClass(m.tabsClass),d.tabs.addClass(m.tabClass),d.panels.addClass(m.panelClass)},p=function(){var e,b=window.location.hash.match(/^[^\?]*/)[0],c=d.matchTab(b).parent();1===c.length?(g=c,m.cycle=!1):(e=d.matchInPanel(b),e.length?(b="#"+e.attr("id"),g=d.matchTab(b).parent()):(g=d.tabs.parent().find(m.defaultTab),0===g.length&&a.error("The specified default tab ('"+m.defaultTab+"') could not be found in the tab set ('"+m.tabs+"') out of "+d.tabs.length+" tabs."))),h=g.children("a").first(),q(c)},q=function(b){var c,d;m.collapsible&&0===b.length&&m.collapsedByDefault?g.addClass(m.collapsedClass).children().addClass(m.collapsedClass):(c=a(g.data("easytabs").panel),d=g.data("easytabs").ajax,!d||m.cache&&g.data("easytabs").cached||(e.trigger("easytabs:ajax:beforeSend",[h,c]),c.load(d,function(a,b,d){g.data("easytabs").cached=!0,e.trigger("easytabs:ajax:complete",[h,c,a,b,d])})),g.data("easytabs").panel.show().addClass(m.panelActiveClass),g.addClass(m.tabActiveClass).children().addClass(m.tabActiveClass)),e.trigger("easytabs:initialised",[h,c])},r=function(){d.tabs.children("a").bind(m.bind_str,function(b){m.cycle=!1,k=!1,d.selectTab(a(this)),b.preventDefault?b.preventDefault():b.returnValue=!1})},s=function(a,b,c,f){if(d.panels.stop(!0,!0),n(e,"easytabs:before",[a,b,m])){var l,o,p,q,g=d.panels.filter(":visible"),h=b.parent(),r=window.location.hash.match(/^[^\?]*/)[0];m.animate&&(l=t(b),o=g.length?u(g):0,p=l-o),j=r,q=function(){e.trigger("easytabs:midTransition",[a,b,m]),m.animate&&"fadeIn"==m.transitionIn&&0>p&&h.animate({height:h.height()+p},i.halfSpeed).css({"min-height":""}),m.updateHash&&!k?window.location.hash="#"+b.attr("id"):k=!1,b[i.show](i.speed,m.transitionInEasing,function(){h.css({height:"","min-height":""}),e.trigger("easytabs:after",[a,b,m]),"function"==typeof f&&f()})},!c||m.cache&&a.parent().data("easytabs").cached||(e.trigger("easytabs:ajax:beforeSend",[a,b]),b.load(c,function(c,d,f){a.parent().data("easytabs").cached=!0,e.trigger("easytabs:ajax:complete",[a,b,c,d,f])})),m.animate&&"fadeOut"==m.transitionOut&&(p>0?h.animate({height:h.height()+p},i.halfSpeed):h.css({"min-height":h.height()})),d.tabs.filter("."+m.tabActiveClass).removeClass(m.tabActiveClass).children().removeClass(m.tabActiveClass),d.tabs.filter("."+m.collapsedClass).removeClass(m.collapsedClass).children().removeClass(m.collapsedClass),a.parent().addClass(m.tabActiveClass).children().addClass(m.tabActiveClass),d.panels.filter("."+m.panelActiveClass).removeClass(m.panelActiveClass),b.addClass(m.panelActiveClass),g.length?g[i.hide](i.speed,m.transitionOutEasing,q):b[i.uncollapse](i.speed,m.transitionUncollapseEasing,q)}},t=function(b){if(b.data("easytabs")&&b.data("easytabs").lastHeight)return b.data("easytabs").lastHeight;var d,e,c=b.css("display");try{d=a("<div></div>",{position:"absolute",visibility:"hidden",overflow:"hidden"})}catch(f){d=a("<div></div>",{visibility:"hidden",overflow:"hidden"})}return e=b.wrap(d).css({position:"relative",visibility:"hidden",display:"block"}).outerHeight(),b.unwrap(),b.css({position:b.data("easytabs").position,visibility:b.data("easytabs").visibility,display:c}),b.data("easytabs").lastHeight=e,e},u=function(a){var b=a.outerHeight();return a.data("easytabs")?a.data("easytabs").lastHeight=b:a.data("easytabs",{lastHeight:b}),b},v=function(){"function"==typeof a(window).hashchange?a(window).hashchange(function(){d.selectTabFromHashChange()}):a.address&&"function"==typeof a.address.change&&a.address.change(function(){d.selectTabFromHashChange()})},w=function(){var a;m.cycle&&(a=d.tabs.index(g),setTimeout(function(){d.cycleTabs(a+1)},m.cycle))};d.init()},a.fn.easytabs=function(b){var c=arguments;return this.each(function(){var d=a(this),e=d.data("easytabs");return void 0===e&&(e=new a.easytabs(this,b),d.data("easytabs",e)),e.publicMethods[b]?e.publicMethods[b](Array.prototype.slice.call(c,1)):void 0})}}(jQuery),function(a){a.cluetip={version:"1.2.9",template:["<div>",'<div class="cluetip-outer">','<h3 class="cluetip-title ui-widget-header ui-cluetip-header"></h3>','<div class="cluetip-inner ui-widget-content ui-cluetip-content"></div>',"</div>",'<div class="cluetip-extra"></div>',"</div>"].join(""),setup:{insertionType:"appendTo",insertionElement:"body"},defaults:{multiple:!1,width:275,height:"auto",cluezIndex:97,positionBy:"auto",topOffset:15,leftOffset:15,snapToEdge:!1,local:!1,localPrefix:null,localIdSuffix:null,hideLocal:!0,attribute:"rel",titleAttribute:"title",splitTitle:"",escapeTitle:!1,showTitle:!0,cluetipClass:"default",hoverClass:"",waitImage:!0,cursor:"help",arrows:!1,dropShadow:!0,dropShadowSteps:6,sticky:!1,mouseOutClose:!1,delayedClose:50,activation:"hover",clickThrough:!0,tracking:!1,closePosition:"top",closeText:"Close",truncate:0,fx:{open:"show",openSpeed:""},hoverIntent:{sensitivity:3,interval:50,timeout:0},onActivate:function(){return!0},onShow:function(){},onHide:function(){},ajaxCache:!0,ajaxProcess:function(a){return a=a.replace(/<(script|style|title)[^<]+<\/(script|style|title)>/gm,"").replace(/<(link|meta)[^>]+>/g,"")},ajaxSettings:{dataType:"html"},debug:!1}};var b,c="cluetip ui-widget ui-widget-content ui-cluetip",d={},e=0,f=0;a.fn.attrProp=a.fn.prop||a.fn.attr,a.fn.cluetip=function(g,h){function i(b,c){var d=b||"";return c=c||"","object"==typeof c?a.each(c,function(a,b){d+="-"+a+"-"+b}):"string"==typeof c&&(d+=c),d}function j(b,c,d){var e="",f=c.dropShadow&&c.dropShadowSteps?+c.dropShadowSteps:0;if(a.support.boxShadow)return f&&(e="1px 1px "+f+"px rgba(0,0,0,0.5)"),b.css(a.support.boxShadow,e),!1;var g=b.find(".cluetip-drop-shadow");if(f==g.length)return g;g.remove();for(var h=[],i=0;f>i;)h[i++]='<div style="top:'+i+"px;left:"+i+'px;"></div>';return d=a(h.join("")).css({position:"absolute",backgroundColor:"#000",zIndex:q-1,opacity:.1}).addClass("cluetip-drop-shadow").prependTo(b)}var k,l,m,n,o,p;if("object"==typeof g&&(h=g,g=null),"destroy"==g)return this.each(function(){var b=a(this),c=b.data("cluetip");c&&(a(c.selector).remove(),a.removeData(this,"title"),a.removeData(this,"cluetip")),c.title&&b.attrProp("title",c.title),b.unbind(".cluetip").unbind("cluetipMoc")}),a('[id^="cluetip"]').length||a(document).unbind(".cluetip"),this;h=a.extend(!0,{},a.cluetip.defaults,h||{}),e++;var q,r=a.cluetip.backCompat||!h.multiple?"cluetip":"cluetip-"+e,s="#"+r,t=a.cluetip.backCompat?"#":".",u=a.cluetip.setup.insertionType,v=a.cluetip.setup.insertionElement||"body";u=/appendTo|prependTo|insertBefore|insertAfter/.test(u)?u:"appendTo",k=a(s),k.length||(k=a(a.cluetip.template)[u](v).attr("id",r).css({position:"absolute",display:"none"}),q=+h.cluezIndex,m=k.find(t+"cluetip-outer").css({position:"relative",zIndex:q}),l=k.find(t+"cluetip-inner"),n=k.find(t+"cluetip-title"),k.bind("mouseenter mouseleave",function(b){a(this).data("entered","mouseenter"===b.type)})),b=a("#cluetip-waitimage"),!b.length&&h.waitImage&&(b=a("<div></div>").attr("id","cluetip-waitimage").css({position:"absolute"}),b.insertBefore(k).hide());var w=(parseInt(k.css("paddingLeft"),10)||0)+(parseInt(k.css("paddingRight"),10)||0);return this.each(function(e){function r(){return!1}function u(a,b){var c=a.status;b.beforeSend(a.xhr,b),"error"==c?b[c](a.xhr,a.textStatus):"success"==c&&b[c](a.data,a.textStatus,a.xhr),b.complete(a.xhr,b.textStatus)}var x=this,y=a(this),z=a.extend(!0,{},h,a.metadata?y.metadata():a.meta?y.data():y.data("cluetip")||{}),A=!1,B=!1,C=null,D=z[z.attribute]||("href"==z.attribute?y.attr(z.attribute):y.attrProp(z.attribute)||y.attr(z.attribute)),E=z.cluetipClass;if(q=+z.cluezIndex,y.data("cluetip",{title:x.title,zIndex:q,selector:s,cursor:x.style.cursor||""}),z.arrows&&!k.find(".cluetip-arrows").length&&k.append('<div class="cluetip-arrows ui-state-default"></div>'),!D&&!z.splitTitle&&!g)return!0;z.local&&z.localPrefix&&(D=z.localPrefix+D),z.local&&z.hideLocal&&D&&a(D+":first").hide();var F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T=parseInt(z.topOffset,10),U=parseInt(z.leftOffset,10),V=isNaN(parseInt(z.height,10))?"auto":/\D/g.test(z.height)?z.height:z.height+"px",W=parseInt(z.width,10)||275,X=W+w+z.dropShadowSteps,Y=this.offsetWidth,Z="title"!=z.attribute?y.attr(z.titleAttribute)||"":"";z.splitTitle&&(S=Z.split(z.splitTitle),Z=z.showTitle||""===S[0]?S.shift():""),z.escapeTitle&&(Z=Z.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")),y.bind("mouseenter mouseleave",function(a){var b=y.data("cluetip");b.entered="entered"===a.type,y.data("cluetip",b)});var $=function(c){var j,p,q,r=z.onActivate.call(x,c);if(r===!1)return!1;if(B=!0,k=a(s).css({position:"absolute"}),m=k.find(t+"cluetip-outer"),l=k.find(t+"cluetip-inner"),n=k.find(t+"cluetip-title"),o=k.find(t+"cluetip-arrows"),k.removeClass().css({width:W}),D==y.attr("href")&&y.css("cursor",z.cursor),z.hoverClass&&y.addClass(z.hoverClass),I=K=y.offset().top,J=I+y.innerHeight(),O=y.offset().left,"relative"===a(v).css("position")&&(O-=a(v)[0].getBoundingClientRect().left),Y=y.innerWidth(),c.type==focus?(Q=O+Y/2+U,k.css({left:P}),M=K+T):(Q=c.pageX,M=c.pageY),"area"!=x.tagName.toLowerCase()&&(H=a(document).scrollTop(),R=a(window).width()),"fixed"==z.positionBy?(P=Y+O+U,k.css({left:P})):(P=Y>O&&O>X||O+Y+X+U>R?O-X-U:Y+O+U,("area"==x.tagName.toLowerCase()||"mouse"==z.positionBy||Y+X>R)&&(Q+20+X>R?(k.addClass("cluetip-"+E),P=Q-X-U>=0?Q-X-U-parseInt(k.css("marginLeft"),10)+parseInt(l.css("marginRight"),10):Q-X/2):P=Q+U),j=0>P?c.pageY+T:c.pageY,(0>P||"bottomTop"==z.positionBy||"topBottom"==z.positionBy)&&(P=Q+X/2>R?R/2-X/2:Math.max(Q-X/2,0))),o.css({zIndex:y.data("cluetip").zIndex+1}),k.css({left:P,zIndex:y.data("cluetip").zIndex}),G=a(window).height(),g)"function"==typeof g&&(g=g.call(x)),l.html(g),_(j);else if(S){var w=S.length;if(l.html(w?S[0]:""),w>1)for(var C=1;w>C;C++)l.append('<div class="split-body">'+S[C]+"</div>");_(j)}else if(z.local||0===D.indexOf("#")){if(z.local){var F=a(D+(/^#\S+$/.test(D)?"":":eq("+e+")")).clone(!0).show();z.localIdSuffix&&F.attr("id",F[0].id+z.localIdSuffix),l.html(F),_(j)}}else if(/\.(jpe?g|tiff?|gif|png)(?:\?.*)?$/i.test(D))l.html('<img src="'+D+'" alt="'+Z+'" />'),_(j);else{var L=z.ajaxSettings.beforeSend,N=z.ajaxSettings.error,V=z.ajaxSettings.success,$=z.ajaxSettings.complete;q=i(D,z.ajaxSettings.data);var ab={cache:z.ajaxCache,url:D,beforeSend:function(a,c){L&&L.call(x,a,k,l,c),m.children().empty(),z.waitImage&&b.css({top:M+20,left:Q+20,zIndex:y.data("cluetip").zIndex-1}).show()},error:function(a,b){h.ajaxCache&&!d[q]&&(d[q]={status:"error",textStatus:b,xhr:a}),B&&(N?N.call(x,a,b,k,l):l.html("<i>sorry, the contents could not be loaded</i>"))},success:function(a,b,c){h.ajaxCache&&!d[q]&&(d[q]={status:"success",data:a,textStatus:b,xhr:c}),A=z.ajaxProcess.call(x,a),"object"==typeof A&&null!==A&&(Z=A.title,A=A.content),B&&(V&&V.call(x,a,b,k,l),l.html(A))},complete:function(c,d){$&&$.call(x,c,d,k,l);var e=l[0].getElementsByTagName("img");f=e.length;for(var g=0,h=e.length;h>g;g++)e[g].complete&&f--;f?a(e).bind("load.ct error.ct",function(){f--,0===f&&(b.hide(),a(e).unbind(".ct"),B&&_(j))}):(b.hide(),B&&_(j))}};p=a.extend(!0,{},z.ajaxSettings,ab),d[q]?u(d[q],p):a.ajax(p)}},_=function(b){var d,e,f,g=Z||z.showTitle&&"&nbsp;",h="",i="",q=!1,r={bottom:function(a){a.appendTo(l)},top:function(a){a.prependTo(l)},title:function(a){a.prependTo(n)}};if(k.addClass("cluetip-"+E),z.truncate){var s=l.text().slice(0,z.truncate)+"...";l.html(s)}g?n.show().html(g):n.hide(),z.sticky&&(r[z.closePosition]&&(d=a('<div class="cluetip-close"><a href="#">'+z.closeText+"</a></div>"),r[z.closePosition](d),d.bind("click.cluetip",function(){return bb(),!1})),z.mouseOutClose&&(y.unbind("mouseleave.cluetipMoc"),k.unbind("mouseleave.cluetipMoc"),("both"==z.mouseOutClose||"cluetip"==z.mouseOutClose||z.mouseOutClose===!0)&&k.bind("mouseleave.cluetipMoc",cb),("both"==z.mouseOutClose||"link"==z.mouseOutClose)&&y.bind("mouseleave.cluetipMoc",cb))),m.css({zIndex:y.data("cluetip").zIndex,overflow:"auto"==V?"visible":"auto",height:V}),F="auto"==V?Math.max(k.outerHeight(),k.height()):parseInt(V,10),L=K,N=H+G,q=Q>P&&Math.max(P,0)+X>Q,"fixed"==z.positionBy?L=K-z.dropShadowSteps+T:"topBottom"==z.positionBy||"bottomTop"==z.positionBy||q?("topBottom"==z.positionBy?i=N>K+F+T&&F+T>M-H?"bottom":"top":("bottomTop"==z.positionBy||q)&&(i=K+F+T>N&&M-H>F+T?"top":"bottom"),z.snapToEdge?"top"==i?L=I-F-T:"bottom"==i&&(L=J+T):"top"==i?L=M-F-T:"bottom"==i&&(L=M+T)):L=K+F+T>N?F>=G?H:N-F-T:"block"==y.css("display")||"area"==x.tagName.toLowerCase()||"mouse"==z.positionBy?b-T:K-z.dropShadowSteps,""===i&&(i=O>P?"left":"right"),e=" clue-"+i+"-"+E+" cluetip-"+E,"rounded"==E&&(e+=" ui-corner-all"),k.css({top:L+"px"}).attrProp({className:c+e}),z.arrows?(/(left|right)/.test(i)&&(f=k.height()-o.height(),h=P>=0&&b>0?K-L-z.dropShadowSteps:0,h=f>h?h:f,h+="px"),o.css({top:h}).show()):o.hide(),p=j(k,z),p&&p.length&&p.hide().css({height:F,width:W,zIndex:y.data("cluetip").zIndex-1}).show(),C||k.hide(),clearTimeout(C),C=null,k[z.fx.open](z.fx.openSpeed||0),a.fn.bgiframe&&k.bgiframe(),z.onShow.call(x,k,l)},ab=function(){B=!1,b.hide(),(!z.sticky||/click|toggle/.test(z.activation))&&(z.delayedClose>0?(clearTimeout(C),C=null,C=setTimeout(bb,z.delayedClose)):(bb(),clearTimeout(C))),z.hoverClass&&y.removeClass(z.hoverClass)},bb=function(b){var c=b&&b.data("cluetip")?b:y,d=c.data("cluetip")&&c.data("cluetip").selector,e=d||"div.cluetip",f=a(e),g=f.find(t+"cluetip-inner"),h=f.find(t+"cluetip-arrows");f.hide().removeClass(),z.onHide.call(c[0],f,g),d&&(c.removeClass("cluetip-clicked"),y.css("cursor",y.data("cluetip").cursor)),d&&Z&&c.attrProp(z.titleAttribute,Z),z.arrows&&h.css({top:""}),p&&p.hide()},cb=function(){var a=this;clearTimeout(C),C=setTimeout(function(){var b=y.data("cluetip").entered,c=k.data("entered"),d=!1;"both"==z.mouseOutClose&&(b||c)?d=!0:z.mouseOutClose!==!0&&"cluetip"!=z.mouseOutClose||!c?"link"==z.mouseOutClose&&b&&(d=!0):d=!0,d||bb.call(a)},z.delayedClose)};if(a(document).unbind("hideCluetip.cluetip").bind("hideCluetip.cluetip",function(b){bb(a(b.target))}),/click|toggle/.test(z.activation))y.bind("click.cluetip",function(b){return k.is(":hidden")||!y.is(".cluetip-clicked")?($(b),a(".cluetip-clicked").removeClass("cluetip-clicked"),y.addClass("cluetip-clicked")):ab(b),!1});else if("focus"==z.activation)y.bind("focus.cluetip",function(a){y.attrProp("title",""),$(a)}),y.bind("blur.cluetip",function(a){y.attrProp("title",y.data("cluetip").title),ab(a)});else{y[z.clickThrough?"unbind":"bind"]("click.cluetip",r);var db=function(a){if(z.tracking){var b=P-a.pageX,c=L?L-a.pageY:K-a.pageY;y.bind("mousemove.cluetip",function(a){k.css({left:a.pageX+b,top:a.pageY+c})})}};a.fn.hoverIntent&&z.hoverIntent?y.hoverIntent({sensitivity:z.hoverIntent.sensitivity,interval:z.hoverIntent.interval,over:function(a){$(a),db(a)},timeout:z.hoverIntent.timeout,out:function(a){ab(a),y.unbind("mousemove.cluetip")}}):y.bind("mouseenter.cluetip",function(a){$(a),db(a)}).bind("mouseleave.cluetip",function(a){ab(a),y.unbind("mousemove.cluetip")}),y.bind("mouseover.cluetip",function(){y.attrProp("title","")}).bind("mouseleave.cluetip",function(){y.attrProp("title",y.data("cluetip").title)})}}),this},function(){a.support=a.support||{};for(var b=document.createElement("div"),c=b.style,d=["boxShadow"],e=["moz","Moz","webkit","o"],f=0,g=d.length;g>f;f++){var h=d[f],i=h.charAt(0).toUpperCase()+h.slice(1);if(void 0!==c[h])a.support[h]=h;else for(var j=0,k=e.length;k>j;j++)if(void 0!==c[e[j]+i]){a.support[h]=e[j]+i;break}}b=null}(),a.fn.cluetip.defaults=a.cluetip.defaults}(jQuery),!function(a,b){a.fn.sidebar=function(c){return this.each(function(){var d,e,f,g,h,i,j,k,l,m,n,o,p=a(this),q=p.data("sidebar")||{},r=q.duration,s=a("<div><div/>"),t=a("<div><div/>"),u=a("<div><div/>"),v=function(){var a=p.data("sidebar")||{},b=a.callback.sidebar.open,c=a.container,d=a.inject,e=a.body;a.isEnter||a.isProcessing||(a.isEnter=!0,a.isProcessing=!0,c.animate(a.animate.container.enter,{duration:r,complete:function(){d.fadeOut(r,function(){e.show("clip",r,function(){a.isProcessing=!1,b&&b()})})}}))},w=function(){var a=p.data("sidebar")||{},b=a.callback.sidebar.close,c=a.container,d=a.inject,e=a.body;a.isEnter&&!a.isProcessing&&(a.isProcessing=!0,c.animate(a.animate.container.leave,{duration:r,complete:function(){e.hide("clip",r,function(){d.fadeIn(r,function(){a.isEnter=!1,a.isProcessing=!1,b&&b()})})}}))};if("string"!=typeof c)c=a.extend(!0,{root:a(document.body),position:"left",callback:{item:{enter:function(){a(this).animate({marginLeft:"5px"},250)},leave:function(){a(this).animate({marginLeft:"0px"},250)}},sidebar:{open:function(){},close:function(){}}},animate:{container:{enter:{},leave:{}}},duration:0,open:"mouseenter.sidebar",close:"mouseleave.sidebar"},c),n=c.root,m=!n.is(document.body),o=m?n.addClass("sidebar-root"):a(b),l=c.position,r=c.duration,s.attr("id","jquerySideBar"+(new Date).getTime()).addClass("sidebar-container").addClass(l),t.addClass("sidebar-inject").addClass(l),u.addClass("sidebar-body"),u.append(this),s.append(u),s.append(t),n.append(s),e=s.width(),f=s.height(),g=t.width(),h=t.height(),j={height:f,width:e},k={height:f,width:e},"left"===l||"right"===l?(d=e-g,i={height:f,width:g},j.top=c.top||o.height()/2-f/2+"px"):(d=f-h,i={height:h,width:e},j.left=c.right?a(window).width()-e-c.right.replace("px","")+"px":c.left||o.width()/2-e/2+"px"),j[l]="-"+d+"px",i[l]=d+"px",c.animate.container.enter[l]=0,c.animate.container.leave[l]="-"+d,s.css(j),t.css(i),u.css(k).hide(),a(this).addClass("sidebar-menu").find("li").bind("mouseenter.sidebar",c.callback.item.enter).bind("mouseleave.sidebar",c.callback.item.leave),c.open&&s.bind(c.open,v),c.close&&s.bind(c.close,w),c.container=s,c.inject=t,c.body=u,p.data("sidebar",c),o.resize(function(){"left"===l||"right"===l?s.css({top:a(this).height()/2-f/2+"px"}):c.right?s.css({left:a(this).width()-e-c.right.replace("px","")+"px"}):c.left?s.css({left:c.left}):s.css({left:a(this).width()/2-e/2+"px"})});else switch(c){case"open":v();break;case"close":w()}})}}(jQuery,this),function(a){a.fn.drag=function(b,c,d){var e="string"==typeof b?b:"",f=a.isFunction(b)?b:a.isFunction(c)?c:null;return 0!==e.indexOf("drag")&&(e="drag"+e),d=(b==f?c:d)||{},f?this.bind(e,d,f):this.trigger(e)};var b=a.event,c=b.special,d=c.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(b){var c=a.data(this,d.datakey),e=b.data||{};c.related+=1,a.each(d.defaults,function(a){void 0!==e[a]&&(c[a]=e[a])})},remove:function(){a.data(this,d.datakey).related-=1},setup:function(){if(!a.data(this,d.datakey)){var c=a.extend({related:0},d.defaults);a.data(this,d.datakey,c),b.add(this,"touchstart mousedown",d.init,c),this.attachEvent&&this.attachEvent("ondragstart",d.dontstart)}},teardown:function(){var c=a.data(this,d.datakey)||{};c.related||(a.removeData(this,d.datakey),b.remove(this,"touchstart mousedown",d.init),d.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",d.dontstart))},init:function(e){if(!d.touched){var g,f=e.data;if(!(0!=e.which&&f.which>0&&e.which!=f.which||a(e.target).is(f.not)||f.handle&&!a(e.target).closest(f.handle,e.currentTarget).length||(d.touched="touchstart"==e.type?this:null,f.propagates=1,f.mousedown=this,f.interactions=[d.interaction(this,f)],f.target=e.target,f.pageX=e.pageX,f.pageY=e.pageY,f.dragging=null,g=d.hijack(e,"draginit",f),!f.propagates)))return g=d.flatten(g),g&&g.length&&(f.interactions=[],a.each(g,function(){f.interactions.push(d.interaction(this,f))})),f.propagates=f.interactions.length,f.drop!==!1&&c.drop&&c.drop.handler(e,f),d.textselect(!1),d.touched?b.add(d.touched,"touchmove touchend",d.handler,f):b.add(document,"mousemove mouseup",d.handler,f),!d.touched||f.live?!1:void 0}},interaction:function(b,c){var e=a(b)[c.relative?"position":"offset"]()||{top:0,left:0};return{drag:b,callback:new d.callback,droppable:[],offset:e}},handler:function(e){var f=e.data;switch(e.type){case!f.dragging&&"touchmove":e.preventDefault();case!f.dragging&&"mousemove":if(Math.pow(e.pageX-f.pageX,2)+Math.pow(e.pageY-f.pageY,2)<Math.pow(f.distance,2))break;e.target=f.target,d.hijack(e,"dragstart",f),f.propagates&&(f.dragging=!0);case"touchmove":e.preventDefault();case"mousemove":if(f.dragging){if(d.hijack(e,"drag",f),f.propagates){f.drop!==!1&&c.drop&&c.drop.handler(e,f);break}e.type="mouseup"}case"touchend":case"mouseup":default:d.touched?b.remove(d.touched,"touchmove touchend",d.handler):b.remove(document,"mousemove mouseup",d.handler),f.dragging&&(f.drop!==!1&&c.drop&&c.drop.handler(e,f),d.hijack(e,"dragend",f)),d.textselect(!0),f.click===!1&&f.dragging&&a.data(f.mousedown,"suppress.click",(new Date).getTime()+5),f.dragging=d.touched=!1}},hijack:function(c,e,f,g,h){if(f){var k,m,o,i={event:c.originalEvent,type:c.type},j=e.indexOf("drop")?"drag":"drop",l=g||0,p=isNaN(g)?f.interactions.length:g;c.type=e,c.originalEvent=null,f.results=[];do if(m=f.interactions[l]){if("dragend"!==e&&m.cancelled)continue;o=d.properties(c,f,m),m.results=[],a(h||m[j]||f.droppable).each(function(g,h){return o.target=h,c.isPropagationStopped=function(){return!1
},k=h?b.dispatch.call(h,c,o):null,k===!1?("drag"==j&&(m.cancelled=!0,f.propagates-=1),"drop"==e&&(m[j][g]=null)):"dropinit"==e&&m.droppable.push(d.element(k)||h),"dragstart"==e&&(m.proxy=a(d.element(k)||m.drag)[0]),m.results.push(k),delete c.result,"dropinit"!==e?k:void 0}),f.results[l]=d.flatten(m.results),"dropinit"==e&&(m.droppable=d.flatten(m.droppable)),"dragstart"!=e||m.cancelled||o.update()}while(++l<p);return c.type=i.type,c.originalEvent=i.event,d.flatten(f.results)}},properties:function(a,b,c){var e=c.callback;return e.drag=c.drag,e.proxy=c.proxy||c.drag,e.startX=b.pageX,e.startY=b.pageY,e.deltaX=a.pageX-b.pageX,e.deltaY=a.pageY-b.pageY,e.originalX=c.offset.left,e.originalY=c.offset.top,e.offsetX=e.originalX+e.deltaX,e.offsetY=e.originalY+e.deltaY,e.drop=d.flatten((c.drop||[]).slice()),e.available=d.flatten((c.droppable||[]).slice()),e},element:function(a){return a&&(a.jquery||1==a.nodeType)?a:void 0},flatten:function(b){return a.map(b,function(b){return b&&b.jquery?a.makeArray(b):b&&b.length?d.flatten(b):b})},textselect:function(b){a(document)[b?"unbind":"bind"]("selectstart",d.dontstart).css("MozUserSelect",b?"":"none"),document.unselectable=b?"off":"on"},dontstart:function(){return!1},callback:function(){}};d.callback.prototype={update:function(){c.drop&&this.available.length&&a.each(this.available,function(a){c.drop.locate(this,a)})}};var e=b.dispatch;b.dispatch=function(b){return a.data(this,"suppress."+b.type)-(new Date).getTime()>0?(a.removeData(this,"suppress."+b.type),void 0):e.apply(this,arguments)};var f=b.fixHooks.touchstart=b.fixHooks.touchmove=b.fixHooks.touchend=b.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(b,c){if(c){var d=c.touches&&c.touches[0]||c.changedTouches&&c.changedTouches[0]||null;d&&a.each(f.props,function(a,c){b[c]=d[c]})}return b}};c.draginit=c.dragstart=c.dragend=d}(jQuery),function(){"undefined"==typeof $buptnu&&(window.$buptnu={}),$buptnu.cware||($buptnu.cware={});var a=function(){if(window.top!==window.self){var a=$("#main"),b=parent.document.getElementById("coursewareFrame"),c=null,d=null,e=0;b?(c=b,d=$(parent.parent.document).find(".portletMainIframe"),e=15):(c=parent.document.getElementsByName("wciframe")[0],c?d=$(parent.parent.document).find(".portletMainIframe")[0]:(c=$(parent.document).find(".portletMainIframe")[0],c||(c=$(parent.document).find("iframe")[0],c&&(d=$(parent.parent.document).find(".portletMainIframe")[0],e=35)))),1==a.length&&$("body").height(a.height()),c&&($(c).height($("body").outerHeight()+e),d&&$(d).height($(c).outerHeight()))}};$buptnu.cware.fitScreen=a;var b=function(b,c,d,e,f){var g="string"==typeof b?document.getElementById(b):b,h="string"==typeof c?document.getElementById(c):c,i=e||"",j=f||"";if("none"!=h.style.display){if(d)return;h.style.display="none",i&&j&&(g.innerHTML=j)}else h.style.display="block",i&&j&&(g.innerHTML=i);try{a()}catch(k){}};$buptnu.cware.openShutManager=b;var c=function(a,b){for(var c=b,d=0;12>d;d++){if(c.className==a)return c;c=c.parentNode}return null},d=function(a,b,c,d){for(var e=0,f=0;f<b.childNodes.length;f++)if(1==b.childNodes[f].nodeType){if(c&&c==b.childNodes[f].nodeName?e++:c||e++,d&&d==b.childNodes[f].className&&a>=e)return b.childNodes[f];if(!d&&e==a)return b.childNodes[f]}return null},e=function(a,b,c){for(var d=a,e=0,f=0;f<b.length;f++)d.indexOf(b[f])>=0&&(d=d.replace(b[f],c),e++);return 0==e&&(d=d+" "+c),d},h=["showPart","showAll","hidden","sp"],i=function(a){var b=c("section",a),f=d(2,b,"DIV");if(null!=b&&null!=f){var g=null;if("A"==a.nodeName)g=a;else if("DIV"==a.nodeName&&"title"==a.className){var i=d(2,a,"DIV","control");g=d(1,i,"A")}if(f.className.indexOf(" sp")<0)if(f.className.indexOf(" showAll")>=0){f.className=e(f.className,h,"showPart"),g.className="fh_show",g.title="\u70b9\u51fb\u5c55\u5f00",g.innerHTML="\u70b9\u51fb\u5c55\u5f00";for(var j=0;j<f.getElementsByTagName("div").length;j++)f.getElementsByTagName("div")[j].id.indexOf("box_")>=0&&(f.getElementsByTagName("div")[j].style.display="none")}else f.className=e(f.className,h,"showAll"),g.className="fh_hide",g.title="\u70b9\u51fb\u6298\u53e0",g.innerHTML="\u70b9\u51fb\u6298\u53e0";else"none"==f.style.display?(f.style.display="block",g.className="fh_hide",g.title="\u70b9\u51fb\u6298\u53e0",g.innerHTML="\u70b9\u51fb\u6298\u53e0"):(f.style.display="none",g.className="fh_show",g.title="\u70b9\u51fb\u5c55\u5f00",g.innerHTML="\u70b9\u51fb\u5c55\u5f00")}};$buptnu.cware.showHideContent=i;var j=function(){var a=$.url();if("file"==a.attr("protocol"))return"http://jx2.buptnu.com.cn";var b=a.attr("port");return b="80"!=b&&"443"!=b?":"+b:"",a.attr("protocol")+"://"+a.attr("host")+b},k=function(){var a=$.url();return j()+a.attr("directory")},l=function(a){var b=$.url(),c=0==b.attr("protocol").indexOf("http");if(c){if(0==a.indexOf("http"))return a;var d=j();return 0==a.indexOf("/")?d+a:k()+a}return a};$buptnu.cware.getUrlFull=l;var p=function(a){var b={id:"",url:"#",title:"",size:{width:640,height:360},onlyGiven:!1};$.extend(b,a);var c=$("#hd_videourl");c&&0!=c.length?c.val(b.url):$("body").append("<input type='hidden' id='hd_videourl' value='"+b.url+"'/>");var d=j()+"/library/courseware/templates/default/video.html",e=d+"?onlyGiven="+b.onlyGiven;e=e+"&width="+b.size.width+"&height="+b.size.height+"&id="+b.id,b.size.cssClass&&(e=e+"&cssClass="+b.size.cssClass),$.fancybox.open({href:e,type:"iframe",fitToView:!1,autoSize:!1,padding:[3,0,0,3],width:b.size.width+6,height:b.size.height+10})};$buptnu.cware.playPopVideo=p,$buptnu.cware.playPopVideoGiven=function(a){a.onlyGiven=!0,p(a)};var q=function(a){var b={url:"#",title:"",width:645,height:362};$.extend(b,a);var c=$("#hd_flashurl");c&&0!=c.length?c.val(b.url):$("body").append("<input type='hidden' id='hd_flashurl' value='"+b.url+"'/>");var d=j()+"/library/courseware/templates/default/flash.html?width="+b.width+"&height="+b.height;$.fancybox.open({href:d,type:"iframe",fitToView:!1,autoSize:!1,padding:[3,0,0,3],width:b.width+6,height:b.height+10})};$buptnu.cware.playPopFlash=q;var r=function(a){var b={url:"#",id:"viewerPlaceHolder",title:"\u6587\u6863\u6d4f\u89c8",width:"690px",height:"570px"};$.extend(b,a);var c=$("#"+b.id);c&&0!=c.length||$("body").append('<div class="fb_docview" id="'+b.id+'" style="width:690px;height:570px;display:none;"></div>'),new FlexPaperViewer("/library/js/flexpaper/FlexPaperViewer",b.id,{config:{SwfFile:b.url,Scale:1,ZoomTransition:"easeOut",ZoomTime:.5,ZoomInterval:.2,FitPageOnLoad:!1,FitWidthOnLoad:!0,FullScreenAsMaxWindow:!1,ProgressiveLoading:!1,MinZoomSize:.2,MaxZoomSize:5,SearchMatchAll:!1,InitViewMode:"Portrait",ViewModeToolsVisible:!0,ZoomToolsVisible:!0,NavToolsVisible:!0,CursorToolsVisible:!0,SearchToolsVisible:!0,localeChain:"zh_CN"}}),$.fancybox.open({href:"#"+b.id,type:"inline",fitToView:!1,autoSize:!1,padding:3,width:b.width,height:b.height})};$buptnu.cware.viewDoc=r;var s=function(a){var b={target:null,showtitle:!1,action:"auto",rootpath:null};if(a&&$.extend(b,a),b.target){var c=b.target;if(c instanceof jQuery||(c=$(c)),c&&c instanceof jQuery&&1==c.length){var d=c.attr("rel");d=$.url(d).attr("protocol").length>0||!b.rootpath?d:b.rootpath+d;var e={href:d,wrapCSS:"fancybox-custom",closeClick:!0,openEffect:"elastic",closeEffect:"elastic",helpers:{overlay:{css:{background:"rgba(238,238,238,0.85)"}}}};b.showtitle&&c.attr("title")&&c.attr("title").length>0&&(e.helpers.title={type:"inside"},e.title=c.attr("title")),"auto"==b.action?c.fancybox(e):$.fancybox.open(e)}}};$buptnu.cware.bigPic=s;var t=function(a){var b=a?a:window,c=$.url(b.location.href);c="http"==c.attr("protocol")?c.attr("base")+c.attr("directory"):null;var d=b.document;$.each($(d).find(".fb_bigpic"),function(a,b){var d=$(b);if(d.is("img")){var e=$('<span class="fb_bigpic_zbtn"></span>');d.parent().append(e),e.offset({left:d.offset().left+d.width()-e.width()}),e.on("click",function(){s({target:d,showtitle:!0,action:"click",rootpath:c})})}d.on("click",function(){s({target:d,showtitle:!0,action:"click",rootpath:c})})})};$buptnu.cware.bigPicTool=t;var u=function(a){function i(){var a=$(window).scrollTop();a>g?f.offset({top:a,left:f.offset().left}):f.offset({top:g,left:f.offset().left})}var b={target:window,pre:{show:!0,url:"#"},next:{show:!0,url:"#"},parent:{show:!0,url:"#"},home:{show:!0,url:"#"}};a&&$.extend(b,a);var c='<div id="helper_bar"><div id="helper_bar_btnbar"><div class="helper_btn"><div><a href="javascript:void(0)" id="helper_btn_home" class="helper_btnitem"></a></div><div><a href="javascript:void(0)" id="helper_btn_parent" class="helper_btnitem"></a></div><div><a href="javascript:void(0)" id="helper_btn_pre" class="helper_btnitem"></a></div><div><a href="javascript:void(0)" id="helper_btn_next" class="helper_btnitem"></a></div></div></div><div class="help_content"><div id="helper_bar_nav"><div class="navbtn show"></div></div><div id="helper_bar_list"><ul></ul></div></div><div class="gotop"></div></div>';$("body").append(c);var d=0,e=$("div#helper_bar").sidebar({position:"top",close:null,right:d+"px"});e.mouseenter(),$(".sidebar-container").css("height","auto"),$(".sidebar-body").css("height","auto"),$("#helper_btn_home").on("click",function(){b.target.location.href=b.home.url}),b.parent.show?$("#helper_btn_parent").on("click",function(){b.target.location.href=b.parent.url}):$("#helper_btn_parent").attr("disabled","disabled"),b.pre.show?$("#helper_btn_pre").on("click",function(){b.target.location.href=b.pre.url}):$("#helper_btn_parent").attr("disabled","disabled"),b.next.show?$("#helper_btn_next").on("click",function(){b.target.location.href=b.next.url}):$("#helper_btn_next").attr("disabled","disabled"),$("#helper_bar_nav").on("click",function(){$("#helper_bar_list").toggle(),$("#helper_bar_nav > .navbtn").toggleClass("show").toggleClass("hide")}),$("#helper_bar > .gotop").on("click",function(){$("html,body").animate({scrollTop:0},200)});var f=$(".sidebar-container"),g=110,h=$(window).width()-$(".sidebar-container").width()-d;f=f.offset({top:g,left:h}),$(window).scroll(i).resize(i),$("html,body").animate({scrollTop:0},200)};$buptnu.cware.helperbar=u;var v=function(a){try{var b=$("#helper_bar_list > ul"),c=window.frames[0].frames[0].document;b.html(""),$.each(a,function(a,d){d=$(d);var e="section_link_"+a;d.prepend("<a href='#' class='section_link' id='"+e+"'></a>");var f=d.find("h1");if(0==f.length&&(f=d.find("h2")),0==f.length)return!0;f=f.html();var g="help_bar_link_"+$(".help_bar_link").length;b.append('<li><a id="'+g+'" class="help_bar_link" rel="#'+e+'" href="javascript:void(0)" title="'+f+'">'+f+"</a></li>"),$("#"+g).on("click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;var b=$(this).attr("rel"),d=$(c).find(b).offset().top;$("html,body").animate({scrollTop:d+110},400)})})}catch(d){}};$buptnu.cware.helperbarSections=v;var w=function(a){try{var b=$(a).find(".sidebar-container");b.remove()}catch(c){}};$buptnu.cware.helperbarUnload=w,$buptnu.cware.data||($buptnu.cware.data={});var x=function(a){var b={toolid:null,callback:null};$.extend(b,a),b.toolid&&b.callback&&$.get("/portal/tool/"+b.toolid+"/studySpace_nodesJson.do?dt="+Math.round(1e4*Math.random()),function(a){a=$.parseJSON(a),b.callback(a)})};$buptnu.cware.data.chapterList=x;var y=function(a){var b={toolid:null,moduleid:null,callback:null};$.extend(b,a),b.toolid&&b.moduleid&&b.callback&&$.get("/portal/tool/"+b.toolid+"/studySpace_nodesJson.do?node="+b.moduleid+"&dt="+Math.round(1e4*Math.random()),function(a){a=$.parseJSON(a),b.callback(a)})};$buptnu.cware.data.moduleList=y}();
$(window).load(function(){function d(b){a(b),setTimeout(function(){d(b)},1e3)}function e(b){a(b),setTimeout(function(){e(b)},1e3)}var a=function(a){var b=0,c=Math.min(a.contentWindow.window.document.documentElement.scrollHeight,a.contentWindow.window.document.body.scrollHeight);$(a).height()<200&&$(a).height(200),c>200&&$(a).height()!=c&&$(a).height(c+b)},b=document.getElementById("coursewareFrame"),c=$(document).find(".portletMainIframe")[0];b&&e(b),c&&d(c)});